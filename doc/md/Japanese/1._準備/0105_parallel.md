# 並列計算の実行例

シミュレーションの実行には，MPI実行環境を用いて，

```bash
$ mpirun -np ${NP} ./bin/swpc_3d.x -i ${input}
```

のようにする．ここで`${NP}`は実行プロセス数，`${input}`は入力ファイル名である．ただし，実行環境によっては，`mpirun`コマンド名やそのオプションの与え方が異なる場合がある．

プログラムが正常に実行されると，以下のような画面出力が現れる．
出力結果はコードの種別（3D/PSV/SH）や動作モードよって多少異なる．

```text
 ------------------------------------------------------------------------------
  SWPC_3D (benchmark mode)
 ------------------------------------------------------------------------------

  Grid Size               :      384 x  384 x  384
  MPI Partitioning        :        4 x    6
  Total Memory Size       :          12.705  [GiB]
  Node Memory Size        :           0.529  [GiB]
  Stability  Condition c  :           0.980  (c<1)
  Wavelength Condition r  :           7.000  (r>5-10)
  Minimum velocity        :           3.500  [km/s]
  Maximum velocity        :           6.062  [km/s]
  Maximum frequency       :           1.000  [Hz]

 ------------------------------------------------------------------------------

  it=0000050, 1.877 s/loop, eta 000:29:43, ( 5.00E-05  5.00E-05  4.96E-05 )
  it=0000100, 1.887 s/loop, eta 000:28:18, ( 1.75E-05  1.75E-05  1.05E-05 )
  it=0000150, 1.932 s/loop, eta 000:27:22, ( 1.02E-05  1.02E-05  5.41E-06 )
  it=0000200, 1.943 s/loop, eta 000:25:54, ( 6.59E-06  6.59E-06  4.35E-06 )
          
           ・
           ・
           ・

  it=0000950, 1.986 s/loop, eta 000:01:39, ( 4.89E-07  4.89E-07  1.81E-06 )
  it=0001000, 1.982 s/loop, eta 000:00:00, ( 1.65E-07  1.65E-07  1.54E-07 )

 ------------------------------------------------------------------------------

  Total time             :        1982.348 s

 ------------------------------------------------------------------------------  
```

実行開始時にはメモリ使用量や安定条件（CFL条件から取りうる最大の時間刻みと利用した時間刻みとの比）や波長条件（最小波長と空間刻みとの比）などを表示する．
安定条件は $c<1$ であることが必須であり，かつ波長条件 $r>5-10$ が推奨される．特に，安定条件が満たされない場合には計算は実行されず異常終了する．
計算の実行中は，パラメタファイルで指定したタイミングで，定期的に1ステップあたりの計算所要時間・予想残り計算時間・現時点での最大速度振幅をそれぞれ表示する．


