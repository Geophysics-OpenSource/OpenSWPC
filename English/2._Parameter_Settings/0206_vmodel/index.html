



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="OpenSWPC User's Guide">
      
      
        <link rel="canonical" href="https://tktmyd.github.io/OpenSWPC/English/2._Parameter_Settings/0206_vmodel/">
      
      
        <meta name="author" content="Takuto Maeda">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en, ja">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.3">
    
    
      
        <title>Velocity Model - OpenSWPC</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.30686662.css">
      
        <link rel="stylesheet" href="../../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
      <script src="../../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/earlyaccess/notosansjp.css">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:600,800">
    
      <link rel="stylesheet" href="../../../css/custom.css">
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="black" data-md-color-accent="teal">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#velocity-model" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://tktmyd.github.io/OpenSWPC" title="OpenSWPC" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              OpenSWPC
            </span>
            <span class="md-header-nav__topic">
              
                Velocity Model
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../../.." class="md-tabs__link">
        OpenSWPC Users' Guide
      </a>
    
  </li>

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../" class="md-tabs__link md-tabs__link--active">
          English
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../Japanese/" class="md-tabs__link">
          Japanese
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://tktmyd.github.io/OpenSWPC" title="OpenSWPC" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    OpenSWPC
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="OpenSWPC Users' Guide" class="md-nav__link">
      OpenSWPC Users' Guide
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      English
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        English
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../" title="OpenSWPC Users' Guide" class="md-nav__link">
      OpenSWPC Users' Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../8._Revision_History/" title="Major Revision History" class="md-nav__link">
      Major Revision History
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../9._License/" title="License" class="md-nav__link">
      License
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-4" type="checkbox" id="nav-2-4">
    
    <label class="md-nav__link" for="nav-2-4">
      1. SetUp
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-4">
        1. SetUp
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../1._SetUp/1-1_env/" title="System requirements" class="md-nav__link">
      System requirements
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../1._SetUp/1-2_tree/" title="Code directory tree" class="md-nav__link">
      Code directory tree
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../1._SetUp/1-3_compile/" title="Compilation and Execution" class="md-nav__link">
      Compilation and Execution
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../1._SetUp/1-4_dataset/" title="Preparing the Dataset" class="md-nav__link">
      Preparing the Dataset
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../1._SetUp/1-5_parallel/" title="Execution" class="md-nav__link">
      Execution
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-5" type="checkbox" id="nav-2-5" checked>
    
    <label class="md-nav__link" for="nav-2-5">
      2. Parameter Settings
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-5">
        2. Parameter Settings
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../0201_description/" title="Notation of the Parameter File" class="md-nav__link">
      Notation of the Parameter File
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../0202_env/" title="Controlling Parameters" class="md-nav__link">
      Controlling Parameters
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../0203_coord/" title="Coordinates and Parallel Computation" class="md-nav__link">
      Coordinates and Parallel Computation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../0204_visco/" title="Viscoelastic Bodies" class="md-nav__link">
      Viscoelastic Bodies
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../0205_output/" title="Simulation Data Output" class="md-nav__link">
      Simulation Data Output
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Velocity Model
      </label>
    
    <a href="./" title="Velocity Model" class="md-nav__link md-nav__link--active">
      Velocity Model
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#choice-of-velocity-model-type" class="md-nav__link">
    Choice of Velocity Model Type
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#on-treatments-of-air-and-seawater-layer" class="md-nav__link">
    On Treatments of Air and Seawater Layer
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#small-scale-random-inhomogeneity" class="md-nav__link">
    Small-Scale Random Inhomogeneity
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters-for-uni_rmed" class="md-nav__link">
    Parameters for uni_rmed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters-for-lhm_rmed" class="md-nav__link">
    Parameters for lhm_rmed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters-for-grd_rmed" class="md-nav__link">
    Parameters for grd_rmed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#truncation-of-velocity-fluctuations" class="md-nav__link">
    Truncation of Velocity Fluctuations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../0207_source/" title="Earthquake Source Specification" class="md-nav__link">
      Earthquake Source Specification
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../0208_abc/" title="Absorbing Boundary Conditions" class="md-nav__link">
      Absorbing Boundary Conditions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../0209_checkpoint/" title="Checkpointing and Restarting" class="md-nav__link">
      Checkpointing and Restarting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../0210_reciprocity/" title="Reciprocity Mode" class="md-nav__link">
      Reciprocity Mode
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../0211_2dcode/" title="About Two-Dimensional Codes" class="md-nav__link">
      About Two-Dimensional Codes
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-6" type="checkbox" id="nav-2-6">
    
    <label class="md-nav__link" for="nav-2-6">
      3. Related Tools
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-6">
        3. Related Tools
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../3._Related_Tools/0301_snapshot/" title="Snapshot data handling" class="md-nav__link">
      Snapshot data handling
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../3._Related_Tools/0302_vmodel/" title="Velocity Structure" class="md-nav__link">
      Velocity Structure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../3._Related_Tools/0303_parameter/" title="Programs for Supporting Parameter Settings" class="md-nav__link">
      Programs for Supporting Parameter Settings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../3._Related_Tools/0304_rmedia/" title="Generation of Random Media" class="md-nav__link">
      Generation of Random Media
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../3._Related_Tools/0305_misc/" title="Miscellaneous Tools" class="md-nav__link">
      Miscellaneous Tools
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-7" type="checkbox" id="nav-2-7">
    
    <label class="md-nav__link" for="nav-2-7">
      4. Additional Materials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-7">
        4. Additional Materials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../4._Additional_Materials/0401_modelset/" title="Hints for Parameter Settings" class="md-nav__link">
      Hints for Parameter Settings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../4._Additional_Materials/0402_modification/" title="Hints for Modifying the Code" class="md-nav__link">
      Hints for Modifying the Code
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Japanese
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Japanese
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Japanese/" title="OpenSWPC ユーザーズガイド" class="md-nav__link">
      OpenSWPC ユーザーズガイド
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Japanese/8._Revision_History/" title="主な改版履歴" class="md-nav__link">
      主な改版履歴
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Japanese/9._License/" title="ライセンス" class="md-nav__link">
      ライセンス
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-4" type="checkbox" id="nav-3-4">
    
    <label class="md-nav__link" for="nav-3-4">
      1. 準備
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-4">
        1. 準備
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Japanese/1._準備/0101_env/" title="動作環境" class="md-nav__link">
      動作環境
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Japanese/1._準備/0102_tree/" title="ディレクトリ構成" class="md-nav__link">
      ディレクトリ構成
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Japanese/1._準備/0103_compile/" title="コンパイル" class="md-nav__link">
      コンパイル
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Japanese/1._準備/0104_dataset/" title="データセットの準備" class="md-nav__link">
      データセットの準備
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Japanese/1._準備/0105_parallel/" title="並列計算の実行例" class="md-nav__link">
      並列計算の実行例
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-5" type="checkbox" id="nav-3-5">
    
    <label class="md-nav__link" for="nav-3-5">
      2. パラメタ設定
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-5">
        2. パラメタ設定
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Japanese/2._パラメタ設定/0201_description/" title="パラメタファイルの記法" class="md-nav__link">
      パラメタファイルの記法
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Japanese/2._パラメタ設定/0202_env/" title="動作環境の制御" class="md-nav__link">
      動作環境の制御
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Japanese/2._パラメタ設定/0203_coord/" title="座標系と並列計算" class="md-nav__link">
      座標系と並列計算
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Japanese/2._パラメタ設定/0204_visco/" title="粘弾性体" class="md-nav__link">
      粘弾性体
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Japanese/2._パラメタ設定/0205_output/" title="出力ファイルの設定" class="md-nav__link">
      出力ファイルの設定
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Japanese/2._パラメタ設定/0206_vmodel/" title="速度構造の指定" class="md-nav__link">
      速度構造の指定
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Japanese/2._パラメタ設定/0207_source/" title="震源の指定" class="md-nav__link">
      震源の指定
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Japanese/2._パラメタ設定/0208_abc/" title="吸収境界条件" class="md-nav__link">
      吸収境界条件
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Japanese/2._パラメタ設定/0209_checkpoint/" title="チェックポイント・リスタート" class="md-nav__link">
      チェックポイント・リスタート
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Japanese/2._パラメタ設定/0210_reciprocity/" title="相反定理モード" class="md-nav__link">
      相反定理モード
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Japanese/2._パラメタ設定/0211_2dcode/" title="2次元コード固有の設定" class="md-nav__link">
      2次元コード固有の設定
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-6" type="checkbox" id="nav-3-6">
    
    <label class="md-nav__link" for="nav-3-6">
      3. 関係ツール
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-6">
        3. 関係ツール
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Japanese/3._関係ツール/0301_snapshot/" title="スナップショット" class="md-nav__link">
      スナップショット
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Japanese/3._関係ツール/0302_vmodel/" title="構造モデルの確認" class="md-nav__link">
      構造モデルの確認
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Japanese/3._関係ツール/0303_parameter/" title="パラメタ作成支援" class="md-nav__link">
      パラメタ作成支援
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Japanese/3._関係ツール/0304_rmedia/" title="ランダム媒質生成" class="md-nav__link">
      ランダム媒質生成
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Japanese/3._関係ツール/0305_misc/" title="その他のツール" class="md-nav__link">
      その他のツール
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-7" type="checkbox" id="nav-3-7">
    
    <label class="md-nav__link" for="nav-3-7">
      4. その他
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-7">
        4. その他
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Japanese/4._その他/0401_modelset/" title="計算モデル設定のヒント" class="md-nav__link">
      計算モデル設定のヒント
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../Japanese/4._その他/0402_modification/" title="コード改造のヒント" class="md-nav__link">
      コード改造のヒント
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#choice-of-velocity-model-type" class="md-nav__link">
    Choice of Velocity Model Type
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#on-treatments-of-air-and-seawater-layer" class="md-nav__link">
    On Treatments of Air and Seawater Layer
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#small-scale-random-inhomogeneity" class="md-nav__link">
    Small-Scale Random Inhomogeneity
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters-for-uni_rmed" class="md-nav__link">
    Parameters for uni_rmed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters-for-lhm_rmed" class="md-nav__link">
    Parameters for lhm_rmed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters-for-grd_rmed" class="md-nav__link">
    Parameters for grd_rmed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#truncation-of-velocity-fluctuations" class="md-nav__link">
    Truncation of Velocity Fluctuations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="velocity-model">Velocity Model<a class="headerlink" href="#velocity-model" title="Permanent link">&para;</a></h1>
<h2 id="choice-of-velocity-model-type">Choice of Velocity Model Type<a class="headerlink" href="#choice-of-velocity-model-type" title="Permanent link">&para;</a></h2>
<p>Users can choose a uniform (<code>uni</code>), a layered homogeneous medium
(<code>lhm</code>), or a <code>NetCDF</code> (grd) file input (<code>grd</code>) velocity type. In
addition, a randomly inhomogeneous medium calculated by an external
program can be overlaid onto the model.</p>
<div class="admonition info">
<p class="admonition-title">Parameters</p>
<dl>
<dt><strong><code>vmodel_type</code></strong></dt>
<dd>
<p>Specify the input velocity model. Choose from one of the following.</p>
<dl>
<dt><code>’uni’</code></dt>
<dd>
<p>omogeneous medium with a free surface. The following additional parameters are required:</p>
<ul>
<li><code>vp0</code> : P-wave velocity [km/s] in the uniform model.</li>
<li><code>vs0</code> : S-wave velocity [km/s] in the uniform model.</li>
<li><code>rho0</code> : Mass density [g/cm<script type="math/tex">{}^3</script>] in the uniform model.</li>
<li><code>qp0</code>  :  <script type="math/tex">Q_P</script> of the uniform model.</li>
<li><code>qs0</code>  :  <script type="math/tex">Q_S</script> of the uniform model.</li>
<li><code>topo0</code> : Topography depth in the uniform model. If this value is greater than zero, seawater is filled from <script type="math/tex">z=0</script> to this depth.</li>
</ul>
</dd>
<dt><code>’lhm’</code></dt>
<dd>
<p>Layered Homogeneous Medium. The one-dimensional velocity structure file should be specified as below.</p>
<ul>
<li><code>fn_lhm</code>: Medium specification file. Each line specifies the depth of
the top of the layer, density, P-wave velocity, S-wave
velocity, <script type="math/tex">Q_P</script>, and <script type="math/tex">Q_S</script> below that depth. They must be
separated by space(s) (see following example). Lines
starting with <code>#</code> will be neglected.</li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp"># depth  rho(g/cm^3)  vp(km/s)   vs(km/s)     Qp      Qs</span>
<span class="cp"># -------------------------------------------------------</span>
      <span class="mi">0</span>        <span class="mf">2.300</span>      <span class="mf">5.50</span>      <span class="mf">3.14</span>     <span class="mi">600</span>     <span class="mi">300</span>
      <span class="mi">3</span>        <span class="mf">2.400</span>      <span class="mf">6.00</span>      <span class="mf">3.55</span>     <span class="mi">600</span>     <span class="mi">300</span>
     <span class="mi">18</span>        <span class="mf">2.800</span>      <span class="mf">6.70</span>      <span class="mf">3.83</span>     <span class="mi">600</span>     <span class="mi">300</span>
     <span class="mi">33</span>        <span class="mf">3.200</span>      <span class="mf">7.80</span>      <span class="mf">4.46</span>     <span class="mi">600</span>     <span class="mi">300</span>
    <span class="mi">100</span>        <span class="mf">3.300</span>      <span class="mf">8.00</span>      <span class="mf">4.57</span>     <span class="mi">600</span>     <span class="mi">300</span>
    <span class="mi">225</span>        <span class="mf">3.400</span>      <span class="mf">8.40</span>      <span class="mf">4.80</span>     <span class="mi">600</span>     <span class="mi">300</span>
    <span class="mi">325</span>        <span class="mf">3.500</span>      <span class="mf">8.60</span>      <span class="mf">4.91</span>     <span class="mi">600</span>     <span class="mi">300</span>
    <span class="mi">425</span>        <span class="mf">3.700</span>      <span class="mf">9.30</span>      <span class="mf">5.31</span>     <span class="mi">600</span>     <span class="mi">300</span>
</pre></div>
</td></tr></table>

</dd>
<dt><code>’grd’</code></dt>
<dd>
<p>Velocity model input from <code>NetCDF</code> (GMT grd) files. The
compilation of <code>OpenSWPC</code> should be performed in accompaniment
with the use of the <code>NetCDF</code> library. The following parameters
are required.</p>
<ul>
<li>
<p><code>dir_grd</code>: Directory of the velocity structure (<code>NetCDF</code>) files.</p>
</li>
<li>
<p><code>fn_grdslt</code>: List file that specifies the grd files and the associated
medium. Each line contains the grd filename (with a single
or double quotation mark; recommended), density, P-wave
velocity, S-wave velocity, <script type="math/tex">Q_P</script>, <script type="math/tex">Q_S</script>, and the layer
number integers (0-9) separated by spaces (see following
example). Lines starting with <code>#</code> will be neglected. The
layer number is used to specify the source or station depth
fit to the layer depth. The first <code>NetCDF</code> file will be
treated as the ground surface. If the depth of the ground
surface is deeper than zero, the depth range from <script type="math/tex">z = 0</script> to
the surface is assumed to be an ocean layer. The grid above
the free surface is treated as an air column.</p>
</li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp"># grd filename          rho    vp    vs    QP   QS  sw</span>
<span class="cp"># -------------------------------------------------------</span>
<span class="err">&#39;</span><span class="n">eJIVSM_01_TAB_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">1.80</span>  <span class="mf">1.70</span>  <span class="mf">0.35</span>   <span class="mi">119</span>    <span class="mi">70</span>  <span class="mi">0</span> 
<span class="err">&#39;</span><span class="n">eJIVSM_02_BSM_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">1.95</span>  <span class="mf">1.80</span>  <span class="mf">0.50</span>   <span class="mi">170</span>   <span class="mi">100</span>  <span class="mi">0</span> 
<span class="err">&#39;</span><span class="n">eJIVSM_03_BSM_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">2.00</span>  <span class="mf">2.00</span>  <span class="mf">0.60</span>   <span class="mi">204</span>   <span class="mi">120</span>  <span class="mi">0</span> 
<span class="err">&#39;</span><span class="n">eJIVSM_04_BSM_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">2.05</span>  <span class="mf">2.10</span>  <span class="mf">0.70</span>   <span class="mi">238</span>   <span class="mi">140</span>  <span class="mi">0</span> 
<span class="err">&#39;</span><span class="n">eJIVSM_05_BSM_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">2.07</span>  <span class="mf">2.20</span>  <span class="mf">0.80</span>   <span class="mi">272</span>   <span class="mi">160</span>  <span class="mi">0</span> 
<span class="err">&#39;</span><span class="n">eJIVSM_06_BSM_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">2.10</span>  <span class="mf">2.30</span>  <span class="mf">0.90</span>   <span class="mi">306</span>   <span class="mi">180</span>  <span class="mi">0</span> 
<span class="err">&#39;</span><span class="n">eJIVSM_07_BSM_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">2.15</span>  <span class="mf">2.40</span>  <span class="mf">1.00</span>   <span class="mi">340</span>   <span class="mi">200</span>  <span class="mi">0</span> 
<span class="err">&#39;</span><span class="n">eJIVSM_08_BSM_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">2.20</span>  <span class="mf">2.70</span>  <span class="mf">1.30</span>   <span class="mi">442</span>   <span class="mi">260</span>  <span class="mi">0</span> 
<span class="err">&#39;</span><span class="n">eJIVSM_09_BSM_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">2.25</span>  <span class="mf">3.00</span>  <span class="mf">1.50</span>   <span class="mi">510</span>   <span class="mi">300</span>  <span class="mi">0</span> 
<span class="err">&#39;</span><span class="n">eJIVSM_10_BSM_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">2.30</span>  <span class="mf">3.20</span>  <span class="mf">1.70</span>   <span class="mi">578</span>   <span class="mi">340</span>  <span class="mi">0</span> 
<span class="err">&#39;</span><span class="n">eJIVSM_11_BSM_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">2.35</span>  <span class="mf">3.50</span>  <span class="mf">2.00</span>   <span class="mi">680</span>   <span class="mi">400</span>  <span class="mi">0</span> 
<span class="err">&#39;</span><span class="n">eJIVSM_12_BSM_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">2.45</span>  <span class="mf">4.20</span>  <span class="mf">2.40</span>   <span class="mi">680</span>   <span class="mi">400</span>  <span class="mi">0</span> 
<span class="err">&#39;</span><span class="n">eJIVSM_13_BSM_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">2.60</span>  <span class="mf">5.00</span>  <span class="mf">2.90</span>   <span class="mi">680</span>   <span class="mi">400</span>  <span class="mi">0</span> 
<span class="err">&#39;</span><span class="n">eJIVSM_14_BSM_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">2.65</span>  <span class="mf">5.50</span>  <span class="mf">3.20</span>   <span class="mi">680</span>   <span class="mi">400</span>  <span class="mi">0</span> 
<span class="err">&#39;</span><span class="n">eJIVSM_15_UPC_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">2.70</span>  <span class="mf">5.80</span>  <span class="mf">3.40</span>   <span class="mi">680</span>   <span class="mi">400</span>  <span class="mi">0</span> 
<span class="err">&#39;</span><span class="n">eJIVSM_16_LWC_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">2.80</span>  <span class="mf">6.40</span>  <span class="mf">3.80</span>   <span class="mi">680</span>   <span class="mi">400</span>  <span class="mi">0</span> 
<span class="err">&#39;</span><span class="n">eJIVSM_17_CTM_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">3.20</span>  <span class="mf">7.50</span>  <span class="mf">4.50</span>   <span class="mi">850</span>   <span class="mi">500</span>  <span class="mi">0</span> 
<span class="err">&#39;</span><span class="n">eJIVSM_18_PH2_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">2.40</span>  <span class="mf">5.00</span>  <span class="mf">2.90</span>   <span class="mi">340</span>   <span class="mi">200</span>  <span class="mi">1</span> 
<span class="err">&#39;</span><span class="n">eJIVSM_19_PH3_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">2.90</span>  <span class="mf">6.80</span>  <span class="mf">4.00</span>   <span class="mi">510</span>   <span class="mi">300</span>  <span class="mi">0</span> 
<span class="err">&#39;</span><span class="n">eJIVSM_20_PHM_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">3.20</span>  <span class="mf">8.00</span>  <span class="mf">4.70</span>   <span class="mi">850</span>   <span class="mi">500</span>  <span class="mi">0</span> 
<span class="err">&#39;</span><span class="n">eJIVSM_21_PA2_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">2.60</span>  <span class="mf">5.40</span>  <span class="mf">2.80</span>   <span class="mi">340</span>   <span class="mi">200</span>  <span class="mi">2</span> 
<span class="err">&#39;</span><span class="n">eJIVSM_22_PA3_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">2.80</span>  <span class="mf">6.50</span>  <span class="mf">3.50</span>   <span class="mi">510</span>   <span class="mi">300</span>  <span class="mi">0</span> 
<span class="err">&#39;</span><span class="n">eJIVSM_23_PAM_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">3.40</span>  <span class="mf">8.10</span>  <span class="mf">4.60</span>   <span class="mi">850</span>   <span class="mi">500</span>  <span class="mi">0</span> 
</pre></div>
</td></tr></table>

<ul>
<li>
<p><code>node_grd</code>: MPI node to input the <code>NetCDF</code> data. All <code>NetCDF</code> files are
first read by this node, and then, transferred to all nodes
via MPI data communication.</p>
</li>
<li>
<p><code>is_ocean</code> : In the default (<code>.true.</code>), the depth from <script type="math/tex">z = 0</script> to the set
topography will be treated as an ocean layer. If this
parameter is set to <code>.false.</code>, the seafloor will be used as
a free surface and no seawater will be used.</p>
</li>
</ul>
</dd>
<dt><code>’user’</code></dt>
<dd>A user subroutine defined in <code>src/swpc_*/m_vmodel_user.F90</code>
is used for defining velocity model. Recompilation of the code
is necessary if this Fortran file is modified. Please refer the
comments in the file for input/output of the user subroutine.</dd>
</dl>
</dd>
<dt><strong><code>vcut</code></strong></dt>
<dd>Cut-off velocity. For the <code>’lhm’</code> or <code>’grd’</code> models, a velocity
slower than this value will be overwritten by the <code>vcut</code> value. This
parameter is used to avoid wavelengths that are too short and
violate the wavelength condition (the wavelength is recommended to
be longer than 5-10 grids). This substitution will not be performed
in the oceanic area.</dd>
</dl>
</div>
<h2 id="on-treatments-of-air-and-seawater-layer">On Treatments of Air and Seawater Layer<a class="headerlink" href="#on-treatments-of-air-and-seawater-layer" title="Permanent link">&para;</a></h2>
<p>In <code>OpenSWPC</code>, the air column has a mass density of <script type="math/tex">\rho=0.001</script> [g/cm<script type="math/tex">{}^3</script>], 
velocities of <script type="math/tex">V_P = V_S = 0</script> [km/s], and intrinsic
attenuation parameters of <script type="math/tex">Q^P = Q^S = 10^{10}</script>. In the ocean column,
<script type="math/tex">\rho= 1.0</script> [g/cm<script type="math/tex">{}^3</script>], <script type="math/tex">V_P = 1.5</script> [km/s], <script type="math/tex">V_S = 0.0</script> [km/s],
and <script type="math/tex">Q^P = Q^S = 10^6</script> are assumed. The air column is treated as a
vacuum with no seismic wave propagation (with zero velocities). However,
<strong>the mass density in the air column must not be zero to avoid division by zero</strong>. In the free
surface and seafloor, the reduced order of the finite difference is
performed according to Okamoto and Takenaka (2005<sup id="fnref:OT2005"><a class="footnote-ref" href="#fn:OT2005">1</a></sup>) and Maeda and Furumura (2003<sup id="fnref:MF2003"><a class="footnote-ref" href="#fn:MF2003">2</a></sup>). 
These discontinuities are automatically detected as boundaries that change <script type="math/tex">\mu</script> and <script type="math/tex">\lambda</script> from zero to a finite value.</p>
<h2 id="small-scale-random-inhomogeneity">Small-Scale Random Inhomogeneity<a class="headerlink" href="#small-scale-random-inhomogeneity" title="Permanent link">&para;</a></h2>
<p>Users may overlay small-scale velocity inhomogeneities with specified
power-law spectra on the background velocity models of <code>’uni’</code>, <code>’lhm’</code>,
and <code>’grd’</code>. The small-scale velocity inhomogeneity <script type="math/tex">\xi</script> is defined by
external files. From the average velocities <script type="math/tex">V_{P0}</script>, <script type="math/tex">V_{S0}</script>, and
<script type="math/tex">\rho_0</script>, the fluctuated velocities and density are given as</p>
<script type="math/tex; mode=display">\begin{align}
  V_P = V_{P0} \left( 1 + \xi \right) , \, V_S = V_{S0} \left( 1 + \xi \right) , \,
  \rho = \rho_0 \left( 1 + \nu \xi \right)
\end{align}</script>
<p>where <script type="math/tex">\nu=0.8</script> is a scaling parameter based on a laboratory experiment (Sato et al., 2012<sup id="fnref:SFM2012"><a class="footnote-ref" href="#fn:SFM2012">3</a></sup>).</p>
<p>Velocity models having this small-scale inhomogeneity are specified by
appending <code>_rmed</code> to the original velocity models: <code>vmodel_type=’uni_rmed’</code>, <code>’lhm_rmed’</code>, or <code>’grd_rmed’</code>. </p>
<p>The random media files are generated by a separated program. See <a href="../../3._Related_Tools/0304_rmedia/">this section</a> for details.</p>
<div class="admonition info">
<p class="admonition-title">Parameters</p>
<dl>
<dt><strong><code>dir_rmed</code></strong></dt>
<dd>A directory name for storing the random media data files.</dd>
</dl>
</div>
<p>The random media are given as two- or three-dimensional <code>NetCDF</code> files.
At each grid location, the velocity fluctuation <script type="math/tex">\xi(I,J,K)</script> is defined.
The code automatically reads the corresponding volume from the file; It
is not necessary to decompose the <code>NetCDF</code> files into parts for parallel
computation. If the computational size (<code>Nx, Ny, Nz</code>) is larger than the
random media file size, the media is used repeatedly by applying a
circular boundary condition. The simulation codes do not care if the
grid sizes of the simulation and the input random media file are
identical.</p>
<p>Note that users may use the 3D random media files for 2D calculation. </p>
<h3 id="parameters-for-uni_rmed">Parameters for <code>uni_rmed</code><a class="headerlink" href="#parameters-for-uni_rmed" title="Permanent link">&para;</a></h3>
<p>The following parameter is required in addition to the parameters used
in <code>vmodel=’uni’</code>.</p>
<div class="admonition info">
<p class="admonition-title">Parameters</p>
<dl>
<dt><strong><code>fn_rmed0</code></strong></dt>
<dd>Name of the random medium file.</dd>
</dl>
</div>
<p>In this model, the average velocity will be fluctuated based on the
input <code>fn_rmed0</code>.</p>
<h3 id="parameters-for-lhm_rmed">Parameters for <code>lhm_rmed</code><a class="headerlink" href="#parameters-for-lhm_rmed" title="Permanent link">&para;</a></h3>
<p>In this model, the small-scale velocity fluctuation is applied to every
layer defined by <code>vmodel=’lhm’</code>. It is possible to assign different
random velocity models at different layers.</p>
<p>The following parameter is substituted in <code>fn_lhm</code>:</p>
<div class="admonition info">
<p class="admonition-title">Parameters</p>
<dl>
<dt><strong><code>fn_lhm_rmed</code></strong></dt>
<dd>List file of the velocity structure.</dd>
</dl>
<p>The list file has a similar format to <code>fn_lhm</code>; it contains the
filenames of the random media files in the rightmost column as in the
following example.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp"># depth  rho(g/cm^3)  vp(km/s)   vs(km/s)     Qp      Qs     fn_rmed</span>
<span class="cp"># ----------------------------------------------------------------------</span>
     <span class="mi">0</span>        <span class="mf">2.300</span>      <span class="mf">5.50</span>      <span class="mf">3.14</span>     <span class="mi">600</span>     <span class="mi">300</span>     <span class="n">rmedia1</span><span class="p">.</span><span class="n">nc</span>
     <span class="mi">3</span>        <span class="mf">2.400</span>      <span class="mf">6.00</span>      <span class="mf">3.55</span>     <span class="mi">600</span>     <span class="mi">300</span>     <span class="n">rmedia1</span><span class="p">.</span><span class="n">nc</span>
    <span class="mi">18</span>        <span class="mf">2.800</span>      <span class="mf">6.70</span>      <span class="mf">3.83</span>     <span class="mi">600</span>     <span class="mi">300</span>     <span class="n">rmedia2</span><span class="p">.</span><span class="n">nc</span>
    <span class="mi">33</span>        <span class="mf">3.200</span>      <span class="mf">7.80</span>      <span class="mf">4.46</span>     <span class="mi">600</span>     <span class="mi">300</span>     <span class="n">rmedia2</span><span class="p">.</span><span class="n">nc</span>
    <span class="mi">100</span>       <span class="mf">3.300</span>      <span class="mf">8.00</span>      <span class="mf">4.57</span>     <span class="mi">600</span>     <span class="mi">300</span>     <span class="o">-</span>
    <span class="mi">225</span>       <span class="mf">3.400</span>      <span class="mf">8.40</span>      <span class="mf">4.80</span>     <span class="mi">600</span>     <span class="mi">300</span>     <span class="o">-</span>
    <span class="mi">325</span>       <span class="mf">3.500</span>      <span class="mf">8.60</span>      <span class="mf">4.91</span>     <span class="mi">600</span>     <span class="mi">300</span>     <span class="o">-</span>
    <span class="mi">425</span>       <span class="mf">3.700</span>      <span class="mf">9.30</span>      <span class="mf">5.31</span>     <span class="mi">600</span>     <span class="mi">300</span>     <span class="o">-</span>
</pre></div>
</td></tr></table>

<p>In this example, the layers starting from depths of 0 km and 3 km have
fluctuations defined in <code>rmedia1.nc</code>, and the layers from 18 km and 33
km are defined in <code>rmedia2.nc</code>. For the layer deeper than 100 km, a
dummy filename (<code>-</code>) is given. In this case (i.e., there is no file
found), a fluctuation will not be given. The dummy filename is mandatory
in this case.</p>
</div>
<h3 id="parameters-for-grd_rmed">Parameters for <code>grd_rmed</code><a class="headerlink" href="#parameters-for-grd_rmed" title="Permanent link">&para;</a></h3>
<p>When overlaying the random fluctuations to the layers defined by the
model of <code>vmodel=’grd’</code>, it is possible to assign different random media
to different layers. The starting depth of the velocity fluctuation can
be either the free surface or depths defined by a layer.</p>
<p>The filename of the velocity fluctuation is given by the following
parameter:</p>
<div class="admonition info">
<p class="admonition-title">Parameters</p>
<dl>
<dt><strong><code>fn_grdlst_rmed</code></strong></dt>
<dd>A list file that specifies the velocity layer and the random
fluctuation files for each layer.</dd>
</dl>
<p>The list file has two additional columns at the right: the filename of
the random medium and the reference layer number.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp"># grd filename          rho    vp    vs   QP   QS  sw  fn_rmed      ref</span>
<span class="cp"># -----------------------------------------------------------------------</span>
<span class="err">&#39;</span><span class="n">eJIVSM_01_TAB_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">1.80</span>  <span class="mf">1.70</span>  <span class="mf">0.35</span>   <span class="mi">119</span>    <span class="mi">70</span>  <span class="mi">0</span> <span class="err">&#39;</span><span class="n">rmed3d_1</span><span class="p">.</span><span class="n">nc</span><span class="err">&#39;</span> <span class="mi">0</span>
<span class="err">&#39;</span><span class="n">eJIVSM_02_BSM_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">1.95</span>  <span class="mf">1.80</span>  <span class="mf">0.50</span>   <span class="mi">170</span>   <span class="mi">100</span>  <span class="mi">0</span> <span class="err">&#39;</span><span class="n">rmed3d_1</span><span class="p">.</span><span class="n">nc</span><span class="err">&#39;</span> <span class="mi">0</span>
<span class="err">&#39;</span><span class="n">eJIVSM_03_BSM_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">2.00</span>  <span class="mf">2.00</span>  <span class="mf">0.60</span>   <span class="mi">204</span>   <span class="mi">120</span>  <span class="mi">0</span> <span class="err">&#39;</span><span class="n">rmed3d_1</span><span class="p">.</span><span class="n">nc</span><span class="err">&#39;</span> <span class="mi">0</span>
<span class="err">&#39;</span><span class="n">eJIVSM_04_BSM_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">2.05</span>  <span class="mf">2.10</span>  <span class="mf">0.70</span>   <span class="mi">238</span>   <span class="mi">140</span>  <span class="mi">0</span> <span class="err">&#39;</span><span class="n">rmed3d_1</span><span class="p">.</span><span class="n">nc</span><span class="err">&#39;</span> <span class="mi">0</span>
<span class="err">&#39;</span><span class="n">eJIVSM_05_BSM_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">2.07</span>  <span class="mf">2.20</span>  <span class="mf">0.80</span>   <span class="mi">272</span>   <span class="mi">160</span>  <span class="mi">0</span> <span class="err">&#39;</span><span class="n">rmed3d_1</span><span class="p">.</span><span class="n">nc</span><span class="err">&#39;</span> <span class="mi">0</span>
<span class="err">&#39;</span><span class="n">eJIVSM_06_BSM_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">2.10</span>  <span class="mf">2.30</span>  <span class="mf">0.90</span>   <span class="mi">306</span>   <span class="mi">180</span>  <span class="mi">0</span> <span class="err">&#39;</span><span class="n">rmed3d_1</span><span class="p">.</span><span class="n">nc</span><span class="err">&#39;</span> <span class="mi">0</span>
<span class="err">&#39;</span><span class="n">eJIVSM_07_BSM_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">2.15</span>  <span class="mf">2.40</span>  <span class="mf">1.00</span>   <span class="mi">340</span>   <span class="mi">200</span>  <span class="mi">0</span> <span class="err">&#39;</span><span class="n">rmed3d_1</span><span class="p">.</span><span class="n">nc</span><span class="err">&#39;</span> <span class="mi">0</span>
<span class="err">&#39;</span><span class="n">eJIVSM_08_BSM_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">2.20</span>  <span class="mf">2.70</span>  <span class="mf">1.30</span>   <span class="mi">442</span>   <span class="mi">260</span>  <span class="mi">0</span> <span class="err">&#39;</span><span class="n">rmed3d_1</span><span class="p">.</span><span class="n">nc</span><span class="err">&#39;</span> <span class="mi">0</span>
<span class="err">&#39;</span><span class="n">eJIVSM_09_BSM_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">2.25</span>  <span class="mf">3.00</span>  <span class="mf">1.50</span>   <span class="mi">510</span>   <span class="mi">300</span>  <span class="mi">0</span> <span class="err">&#39;</span><span class="n">rmed3d_1</span><span class="p">.</span><span class="n">nc</span><span class="err">&#39;</span> <span class="mi">0</span>
<span class="err">&#39;</span><span class="n">eJIVSM_10_BSM_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">2.30</span>  <span class="mf">3.20</span>  <span class="mf">1.70</span>   <span class="mi">578</span>   <span class="mi">340</span>  <span class="mi">0</span> <span class="err">&#39;</span><span class="n">rmed3d_1</span><span class="p">.</span><span class="n">nc</span><span class="err">&#39;</span> <span class="mi">0</span>
<span class="err">&#39;</span><span class="n">eJIVSM_11_BSM_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">2.35</span>  <span class="mf">3.50</span>  <span class="mf">2.00</span>   <span class="mi">680</span>   <span class="mi">400</span>  <span class="mi">0</span> <span class="err">&#39;</span><span class="n">rmed3d_1</span><span class="p">.</span><span class="n">nc</span><span class="err">&#39;</span> <span class="mi">0</span>
<span class="err">&#39;</span><span class="n">eJIVSM_12_BSM_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">2.45</span>  <span class="mf">4.20</span>  <span class="mf">2.40</span>   <span class="mi">680</span>   <span class="mi">400</span>  <span class="mi">0</span> <span class="err">&#39;</span><span class="n">rmed3d_1</span><span class="p">.</span><span class="n">nc</span><span class="err">&#39;</span> <span class="mi">0</span>
<span class="err">&#39;</span><span class="n">eJIVSM_13_BSM_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">2.60</span>  <span class="mf">5.00</span>  <span class="mf">2.90</span>   <span class="mi">680</span>   <span class="mi">400</span>  <span class="mi">0</span> <span class="err">&#39;</span><span class="n">rmed3d_1</span><span class="p">.</span><span class="n">nc</span><span class="err">&#39;</span> <span class="mi">0</span>
<span class="err">&#39;</span><span class="n">eJIVSM_14_BSM_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">2.65</span>  <span class="mf">5.50</span>  <span class="mf">3.20</span>   <span class="mi">680</span>   <span class="mi">400</span>  <span class="mi">0</span> <span class="err">&#39;</span><span class="n">rmed3d_1</span><span class="p">.</span><span class="n">nc</span><span class="err">&#39;</span> <span class="mi">0</span>
<span class="err">&#39;</span><span class="n">eJIVSM_15_UPC_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">2.70</span>  <span class="mf">5.80</span>  <span class="mf">3.40</span>   <span class="mi">680</span>   <span class="mi">400</span>  <span class="mi">0</span> <span class="err">&#39;</span><span class="n">rmed3d_1</span><span class="p">.</span><span class="n">nc</span><span class="err">&#39;</span> <span class="mi">0</span>
<span class="err">&#39;</span><span class="n">eJIVSM_16_LWC_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">2.80</span>  <span class="mf">6.40</span>  <span class="mf">3.80</span>   <span class="mi">680</span>   <span class="mi">400</span>  <span class="mi">0</span> <span class="err">&#39;</span><span class="n">rmed3d_3</span><span class="p">.</span><span class="n">nc</span><span class="err">&#39;</span> <span class="mi">0</span>
<span class="err">&#39;</span><span class="n">eJIVSM_17_CTM_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">3.20</span>  <span class="mf">7.50</span>  <span class="mf">4.50</span>   <span class="mi">850</span>   <span class="mi">500</span>  <span class="mi">0</span> <span class="err">&#39;</span><span class="n">rmed3d_3</span><span class="p">.</span><span class="n">nc</span><span class="err">&#39;</span> <span class="mi">0</span>
<span class="err">&#39;</span><span class="n">eJIVSM_18_PH2_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">2.40</span>  <span class="mf">5.00</span>  <span class="mf">2.90</span>   <span class="mi">340</span>   <span class="mi">200</span>  <span class="mi">1</span> <span class="err">&#39;</span><span class="n">rmed3d_2</span><span class="p">.</span><span class="n">nc</span><span class="err">&#39;</span> <span class="mi">18</span>
<span class="err">&#39;</span><span class="n">eJIVSM_19_PH3_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">2.90</span>  <span class="mf">6.80</span>  <span class="mf">4.00</span>   <span class="mi">510</span>   <span class="mi">300</span>  <span class="mi">0</span> <span class="err">&#39;</span><span class="n">rmed3d_2</span><span class="p">.</span><span class="n">nc</span><span class="err">&#39;</span> <span class="mi">18</span>
<span class="err">&#39;</span><span class="n">eJIVSM_20_PHM_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">3.20</span>  <span class="mf">8.00</span>  <span class="mf">4.70</span>   <span class="mi">850</span>   <span class="mi">500</span>  <span class="mi">0</span> <span class="err">&#39;</span><span class="n">rmed3d_3</span><span class="p">.</span><span class="n">nc</span><span class="err">&#39;</span> <span class="mi">18</span>
<span class="err">&#39;</span><span class="n">eJIVSM_21_PA2_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">2.60</span>  <span class="mf">5.40</span>  <span class="mf">2.80</span>   <span class="mi">340</span>   <span class="mi">200</span>  <span class="mi">2</span> <span class="err">&#39;</span><span class="n">rmed3d_2</span><span class="p">.</span><span class="n">nc</span><span class="err">&#39;</span> <span class="mi">21</span>
<span class="err">&#39;</span><span class="n">eJIVSM_22_PA3_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">2.80</span>  <span class="mf">6.50</span>  <span class="mf">3.50</span>   <span class="mi">510</span>   <span class="mi">300</span>  <span class="mi">0</span> <span class="err">&#39;</span><span class="n">rmed3d_2</span><span class="p">.</span><span class="n">nc</span><span class="err">&#39;</span> <span class="mi">21</span>
<span class="err">&#39;</span><span class="n">eJIVSM_23_PAM_</span><span class="p">.</span><span class="n">grd</span><span class="err">&#39;</span>   <span class="mf">3.40</span>  <span class="mf">8.10</span>  <span class="mf">4.60</span>   <span class="mi">850</span>   <span class="mi">500</span>  <span class="mi">0</span> <span class="err">&#39;</span><span class="n">rmed3d_3</span><span class="p">.</span><span class="n">nc</span><span class="err">&#39;</span> <span class="mi">21</span>
</pre></div>
</td></tr></table>

<p>The reference layer number defines the reference depth plane of the
random media. If this number is zero, the depth grid number of the
computational model is directly used to assign the random media. This is
exactly the same as the behavior of the <code>uni_rmed</code> or <code>lhm_rmed</code> models.
If the nonzero value of the reference layer number <code>NR</code> is specified,
the depth of the <code>NR</code> layer is treated as the base plane. The depth grid
of the random medium is measured from this depth. Introducing this
reference plane, the inclined random media according to the velocity
discontinuity (such as the plate boundary) can be specified. In the
above example, the 18th and 21st layers are treated as the references of
18--20th and 21--23th layers, respectively.</p>
</div>
<h3 id="truncation-of-velocity-fluctuations">Truncation of Velocity Fluctuations<a class="headerlink" href="#truncation-of-velocity-fluctuations" title="Permanent link">&para;</a></h3>
<p>If the magnitude of the velocity fluctuation becomes too large, there
can be a spot with non-physical velocity, such as negative velocity or a
velocity too large for the Earth medium. The simulation may be unstable
under the following conditions:</p>
<ol>
<li>
<p>The fluctuated velocity <script type="math/tex">V=(1+\xi)V_0</script> exceeds the stability
    condition for cases with <script type="math/tex">\xi>0</script>.</p>
</li>
<li>
<p>The velocity has unrealistic negative values for cases with
    <script type="math/tex">\xi<-1.0</script>.</p>
</li>
<li>
<p>The mass density has negative values for cases with <script type="math/tex">\xi<-1.25</script>.</p>
</li>
</ol>
<p>To avoid such situations, <code>OpenSWPC</code> automatically limits the range of
the fluctuated velocity to <code>vcut</code><script type="math/tex">\le v \le 0.95 \times v_\text{max}</script>,
where <code>vcut</code> is an input parameter and <script type="math/tex">v_\text{max}</script> is the maximum
possible velocity derived from the stability condition.</p>
<p>In addition, the following parameter controls the minimum density.</p>
<div class="admonition info">
<p class="admonition-title">Parameters</p>
<dl>
<dt><strong><code>rhomin</code></strong></dt>
<dd>Minimum mass density in g/cm<script type="math/tex">{}^3</script>. (1.0 g/cm<script type="math/tex">{}^3</script> by default.)</dd>
</dl>
</div>
<div class="footnote">
<hr />
<ol>
<li id="fn:OT2005">
<p>Okamoto, T., and H. Takenaka (2005). Fluid-solid boundary implementation in the velocity-stress finite- difference method, <em>Zisin 2</em>, <em>57</em>, 355–364, doi:10.4294/zisin1948.57.3_355. (in Japanese with English Abstract) <a href="https://doi.org/10.4294/zisin1948.57.3_355">(article link)</a>&#160;<a class="footnote-backref" href="#fnref:OT2005" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:MF2003">
<p>Maeda, T., and T. Furumura (2013), FDM simulation of seismic waves, ocean acoustic waves, and tsunamis based on tsunami-coupled equations of motion, <em>Pure Appl. Geophys.</em>, <em>170</em>(1-2), 109–127, doi:10.1007/s00024-011-0430-z. <a href="https://doi.org/10.1007/s00024-011-0430-z">(article link)</a>&#160;<a class="footnote-backref" href="#fnref:MF2003" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
<li id="fn:SFM2012">
<p>Sato, H., M. C. Fehler, and T. Maeda (2012), <em>Seismic Wave Propagation and Scattering in the Heterogeneous Earth: Second Edition</em>, Springer Berlin Heidelberg, Berlin, Heidelberg, doi:10.1007/978-3-642-23029-5.&#160;<a class="footnote-backref" href="#fnref:SFM2012" title="Jump back to footnote 3 in the text">&#8617;</a></p>
</li>
</ol>
</div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../0205_output/" title="Simulation Data Output" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Simulation Data Output
              </span>
            </div>
          </a>
        
        
          <a href="../0207_source/" title="Earthquake Source Specification" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Earthquake Source Specification
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy 2019 Takuto Maeda. All Rights Reserved
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/tktmyd" class="md-footer-social__link fa fa-github"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.ac79c3b0.js"></script>
      
        
        
          
          <script src="../../../assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
          
            
              
                <script src="../../../assets/javascripts/lunr/tinyseg.js"></script>
              
              
                <script src="../../../assets/javascripts/lunr/lunr.ja.js"></script>
              
            
          
          
            <script src="../../../assets/javascripts/lunr/lunr.multi.js"></script>
          
        
      
      <script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script>
      
        <script src="../../../mathjax-config.js"></script>
      
        <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      
    
  </body>
</html>